import{s as Pe,p as ce,f as _,a as S,l as J,g as y,h as T,d as p,c as E,y as z,m as K,j as w,i as q,A as d,B as _e,C as de,n as ye,D as je,o as Fe,e as ae,z as He}from"../chunks/scheduler.CoAZU387.js";import{S as Re,i as ze,f as fe,b as N,d as O,m as A,a as M,t as C,e as V,g as Qe,c as Ye}from"../chunks/index.BS_oGWe_.js";import{g as Ue,G as We,M as Je,a as Ee,e as Te,u as Ke,b as Xe,F as Ze,h as et,L as tt,c as nt,D as at,P as Le,o as ot}from"../chunks/utils.nSssa9Bl.js";const Mt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function it(){return{places:[{questId:1,name:"State Library Victoria",description:"State Library Victoria",hint0:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint1:"I am a place of knowledge, where the whispers of history echo through my walls of grand halls and a famous dome crowns my central space.",hint2:"Established in 1854, I am Australia’s oldest public library with over 2 million books inside me.",hint3:"Look for my distinctive reading room, which features a stunning circular design and a ceiling adorned with intricate details, making it a popular spot for both study and photography.",latitude:-37.81,longitude:144.964598},{questId:2,name:"Carlton Gardens",description:"Carlton Gardens",hint0:"I’m a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint1:"I’m a large green space in the center of Melbourne, where history and nature come together, and I have a big building that used to host international exhibitions.",hint2:"I’m a UNESCO World Heritage Site that started in the 1850s and became well-known for hosting Australia’s first Parliament in my famous exhibition building in 1901.",hint3:"Look for my large grassy areas, tree-lined paths, and decorative fountains, along with a children's playground shaped like a Victorian maze, all surrounding a beautiful dome-topped building.",latitude:-37.805431,longitude:144.971399},{questId:3,name:"Eight Hour Day Monument",description:"Eight Hour Day Monument",hint0:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint1:"I am a tribute to an important labor movement, featuring three connected figures that represent a balanced life of work, rest, and play.",hint2:"Look for the striking bronze statue of a worker holding a pickaxe, surrounded by intricate engravings that tell the story of labor rights and struggles.",hint3:"Look for my unique granite column with a globe on top and the words 'Rest, Labour, Recreation,' clearly shown at the corner of Russell and Victoria Streets.",latitude:-37.807153,longitude:144.965577},{questId:4,name:"Melbourne Museum",description:"Melbourne Museum",hint0:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint1:"I am a place full of knowledge, where history meets today, and I have a giant dinosaur that once walked the Earth.",hint2:"Founded in 1854, I display Australia's rich cultural heritage, including exhibits on Aboriginal history and Melbourne's development.",hint3:"Look for my eye-catching modern design, with large galleries that feature a lush rainforest and an impressive IMAX theater, all in the World Heritage-listed Royal Exhibition Building.",latitude:-37.8033,longitude:144.971754},{questId:5,name:"French Fountain",description:"French Fountain",hint0:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint1:"I am a lovely focal point in an old garden, where water flows beautifully, reflecting the elegance of the past.",hint2:"Originally gifted to Melbourne in the late 19th century, the fountain serves as a symbol of friendship between Melbourne and its sister city, Paris.",hint3:"Look for my detailed lion masks and the beautifully crafted cast iron cap on my basin, all set against the Royal Exhibition Building.",latitude:-37.804866,longitude:144.972849},{questId:6,name:"Charles George Gordon Memorial",description:"Charles George Gordon Memorial",hint0:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint1:"Look for a statue of a brave figure standing tall with a cane in one hand and a Bible in the other, where stories of courage can be felt in the park.",hint2:"Find me at the corner of Spring and Macarthur Streets, where I sit on a large limestone and granite base, surrounded by greenery and a sense of history.",hint3:"I honor Charles George Gordon, a British Army officer known for his service in various military campaigns, including in China and Sudan.",latitude:-37.808355,longitude:144.972903},{questId:7,name:"Francis Ormond Building",description:"Francis Ormond Building",hint0:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint1:"Find the oldest educational building at RMIT, where the drive for self-improvement among working men and women began in the late 19th century.",hint2:"Founded in 1887 as Melbourne's first Working Men's College, I honor my founder, a philanthropist who changed education for the working class.",hint3:"Look for my impressive Gothic Revival architecture on La Trobe Street, with detailed stonework and a prominent statue of my founder in front.",latitude:-37.808906,longitude:144.965215},{questId:8,name:"Old Melbourne Gaol",description:"Old Melbourne Gaol",hint0:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint1:"Look for the historic site where notorious criminals were once held, and where the echoes of justice and punishment remain.",hint2:"Established in 1845 and active until 1924, I am known for holding some of Australia’s most infamous inmates, including the legendary bushranger Ned Kelly, who met his end here.",hint3:"Find my big bluestone building at 377 Russell Street, with original cells and a gallows, in a museum that shares the stories of those who lived and died here.",latitude:-37.807832,longitude:144.965317},{questId:9,name:"Victorian Trades Hall Council",description:"Victorian Trades Hall Council",hint0:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint1:"This building is a significant site for the labor movement in Australia, serving as a venue for important meetings and events related to workers' rights.",hint2:"I am home to the oldest trade union building in the world, where the eight-hour workday was first championed by dedicated laborers.",hint3:"Look for my grand façade on Lygon Street, featuring a tall clock tower and colorful murals that celebrate the labor movement's history.",latitude:-37.806467,longitude:144.966378},{questId:10,name:"Sir Redmond Barry Statue",description:"Sir Redmond Barry Statue",hint0:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint1:"Look for a prominent bronze figure standing proudly outside a grand library, where the pursuit of knowledge and culture is celebrated.",hint2:"I honor an important figure in Melbourne's history, known for founding the State Library of Victoria and overseeing the trial of a famous bushranger.",hint3:"Find me at the front of the State Library, on a tall granite base, with detailed bronze work that reflects my legacy.",latitude:-37.810031,longitude:144.964345}]}}function Ie(i){let t,n=it().places;for(let e=0;e<n.length;e++)if(n[e].questId==i)return t=n[e],t}function rt(i,t,n){let e=[],o=[],a=0,l;for(let c=0;c<t.length;c++){let h=t[c],m=Ie(h).latitude,u=Ie(h).longitude,b=Ue([i,{lngLat:{lat:m,lng:u}}]);e.push({id:h,distance:b})}o=e.sort((c,h)=>h.distance-c.distance),console.log("Quests distance:",e),console.log("Quests with shortest distance:",o);let r=Math.floor(Math.random()*t.length);return a=o[r],a==null?(alert("You have completed all the quests. Game over!"),"Game Over"):(l=Ie(a.id),alert("Quest: "+l.hint0),l)}function lt(){const i=Date.now();return console.log("Game started at:",i),i}function st(i,t,n){alert(i.hint1);let e=Math.min(Math.max(Math.random(),.11),.3)*.01,o=Math.min(Math.max(Math.random(),.11),.3)*.01,a=i.latitude+e,l=i.longitude+o;n.flyTo({center:[l,a],zoom:15}),t.includes(1)||t.push(1)}function ut(i,t){if(!t.includes(1)){alert("You need to use the previous hints first.");return}alert(i.hint2),t.includes(2)||t.push(2)}function ct(i,t){if(!t.includes(1)||!t.includes(2)){alert("You need to use the previous hints first.");return}alert(i.hint3),t.includes(3)||t.push(3)}function qe(i,t,n){const e=i.slice();return e[38]=t[n].lngLat,e[39]=t[n].label,e[40]=t[n].name,e[42]=n,e}function De(i){var n;const t=(n=i[43])==null?void 0:n.properties;i[44]=t}function dt(i){let t,n;return t=new Xe({props:{id:"geojsonData",data:i[9],promoteId:"name",$$slots:{default:[mt]},$$scope:{ctx:i}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,o){A(t,e,o),n=!0},p(e,o){const a={};o[0]&512&&(a.data=e[9]),o[1]&16384&&(a.$$scope={dirty:o,ctx:e}),t.$set(a)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function xe(i){let t,n,e=i[44].name+"",o;return{c(){t=_("div"),n=_("p"),o=J(e),this.h()},l(a){t=y(a,"DIV",{class:!0});var l=T(t);n=y(l,"P",{});var r=T(n);o=K(r,e),r.forEach(p),l.forEach(p),this.h()},h(){w(t,"class","flex flex-col gap-2")},m(a,l){q(a,t,l),d(t,n),d(n,o)},p(a,l){l[1]&4096&&e!==(e=a[44].name+"")&&ye(o,e)},d(a){a&&p(t)}}}function ft(i){De(i);let t,n=i[44]&&xe(i);return{c(){n&&n.c(),t=ae()},l(e){n&&n.l(e),t=ae()},m(e,o){n&&n.m(e,o),q(e,t,o)},p(e,o){De(e),e[44]?n?n.p(e,o):(n=xe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){e&&p(t),n&&n.d(e)}}}function ht(i){let t,n;return t=new Le({props:{openOn:"hover",$$slots:{default:[ft,({data:e})=>({43:e}),({data:e})=>[0,e?4096:0]]},$$scope:{ctx:i}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,o){A(t,e,o),n=!0},p(e,o){const a={};o[1]&20480&&(a.$$scope={dirty:o,ctx:e}),t.$set(a)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function mt(i){let t,n,e,o;return t=new Ze({props:{paint:{"fill-color":et("purple","yellow"),"fill-opacity":.3},beforeLayerType:"symbol",manageHoverState:!0,$$slots:{default:[ht]},$$scope:{ctx:i}}}),e=new tt({props:{layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"purple","line-width":3},beforeLayerType:"symbol"}}),{c(){N(t.$$.fragment),n=S(),N(e.$$.fragment)},l(a){O(t.$$.fragment,a),n=E(a),O(e.$$.fragment,a)},m(a,l){A(t,a,l),q(a,n,l),A(e,a,l),o=!0},p(a,l){const r={};l[1]&16384&&(r.$$scope={dirty:l,ctx:a}),t.$set(r)},i(a){o||(M(t.$$.fragment,a),M(e.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),C(e.$$.fragment,a),o=!1},d(a){a&&p(n),V(t,a),V(e,a)}}}function gt(i){let t,n=i[40]+"",e;return{c(){t=_("div"),e=J(n),this.h()},l(o){t=y(o,"DIV",{class:!0});var a=T(t);e=K(a,n),a.forEach(p),this.h()},h(){w(t,"class","text-lg font-bold")},m(o,a){q(o,t,a),d(t,e)},p(o,a){a[0]&64&&n!==(n=o[40]+"")&&ye(e,n)},d(o){o&&p(t)}}}function pt(i){let t,n=i[39]+"",e,o,a,l;return a=new Le({props:{openOn:"hover",offset:[0,-10],$$slots:{default:[gt]},$$scope:{ctx:i}}}),{c(){t=_("span"),e=J(n),o=S(),N(a.$$.fragment)},l(r){t=y(r,"SPAN",{});var c=T(t);e=K(c,n),c.forEach(p),o=E(r),O(a.$$.fragment,r)},m(r,c){q(r,t,c),d(t,e),q(r,o,c),A(a,r,c),l=!0},p(r,c){(!l||c[0]&64)&&n!==(n=r[39]+"")&&ye(e,n);const h={};c[0]&64|c[1]&16384&&(h.$$scope={dirty:c,ctx:r}),a.$set(h)},i(r){l||(M(a.$$.fragment,r),l=!0)},o(r){C(a.$$.fragment,r),l=!1},d(r){r&&(p(t),p(o)),V(a,r)}}}function Be(i,t){let n,e,o;return e=new nt({props:{lngLat:t[38],class:"text-4xl text-black",$$slots:{default:[pt]},$$scope:{ctx:t}}}),{key:i,first:null,c(){n=ae(),N(e.$$.fragment),this.h()},l(a){n=ae(),O(e.$$.fragment,a),this.h()},h(){this.first=n},m(a,l){q(a,n,l),A(e,a,l),o=!0},p(a,l){t=a;const r={};l[0]&64&&(r.lngLat=t[38]),l[0]&64|l[1]&16384&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(a){o||(M(e.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),o=!1},d(a){a&&p(n),V(e,a)}}}function bt(i){let t,n;return t=new at({props:{lngLat:i[12].lngLat,$$slots:{default:[yt]},$$scope:{ctx:i}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,o){A(t,e,o),n=!0},p(e,o){const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:e}),t.$set(a)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function _t(i){let t,n="You";return{c(){t=_("div"),t.textContent=n,this.h()},l(e){t=y(e,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1wiwej8"&&(t.textContent=n),this.h()},h(){w(t,"class","text-lg font-bold")},m(e,o){q(e,t,o)},p:He,d(e){e&&p(t)}}}function yt(i){let t,n;return t=new Le({props:{offset:[0,-10],$$slots:{default:[_t]},$$scope:{ctx:i}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,o){A(t,e,o),n=!0},p(e,o){const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:e}),t.$set(a)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function vt(i){let t,n=[],e=new Map,o,a,l,r=dt(i),c=Te(i[6]);const h=u=>u[42];for(let u=0;u<c.length;u+=1){let s=qe(i,c,u),b=h(s);e.set(b,n[u]=Be(b,s))}let m=i[12].lngLat&&bt(i);return{c(){r&&r.c(),t=S();for(let u=0;u<n.length;u+=1)n[u].c();o=J(`\r
\r
        Display the watched position as a marker\r
        `),m&&m.c(),a=ae()},l(u){r&&r.l(u),t=E(u);for(let s=0;s<n.length;s+=1)n[s].l(u);o=K(u,`\r
\r
        Display the watched position as a marker\r
        `),m&&m.l(u),a=ae()},m(u,s){r&&r.m(u,s),q(u,t,s);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(u,s);q(u,o,s),m&&m.m(u,s),q(u,a,s),l=!0},p(u,s){r.p(u,s),s[0]&64&&(c=Te(u[6]),Qe(),n=Ke(n,s,h,1,u,c,e,o.parentNode,ot,Be,o,qe),Ye()),u[12].lngLat&&m.p(u,s)},i(u){if(!l){M(r);for(let s=0;s<c.length;s+=1)M(n[s]);M(m),l=!0}},o(u){C(r);for(let s=0;s<n.length;s+=1)C(n[s]);C(m),l=!1},d(u){u&&(p(t),p(o),p(a)),r&&r.d(u);for(let s=0;s<n.length;s+=1)n[s].d(u);m&&m.d(u)}}}function wt(i){let t,n,e,o,a,l,r,c,h,m,u=`GNSS Quality:  
            <span id="debug-msg" class="tracking-tighter">N/A</span>`,s,b,F=`Distance:  
            <span id="distance">N/A</span>`,oe,$,X,P,Z="N/A",D,ie,ee,j,te,re,H,k,x,he="Center",le,B,me="Hint 1",g,G,ge="Hint 2",Q,I,pe="Hint 3",se,L,ve,we,ue,$e,Me;function Ge(f){i[19](f)}function Ne(f){i[20](f)}function Oe(f){i[21](f)}let be={getPosition:!0,options:i[10],watch:!0};i[2]!==void 0&&(be.position=i[2]),i[0]!==void 0&&(be.success=i[0]),i[1]!==void 0&&(be.error=i[1]),o=new We({props:be}),ce.push(()=>fe(o,"position",Ge)),ce.push(()=>fe(o,"success",Ne)),ce.push(()=>fe(o,"error",Oe)),o.$on("position",i[22]);function Ae(f){i[27](f)}function Ve(f){i[28](f)}let ke={class:"map flex-grow min-h-[500px] gameMapControl",standardControls:!0,style:"https://tiles.basemaps.cartocdn.com/gl/voyager-gl-style/style.json",zoom:14,$$slots:{default:[vt]},$$scope:{ctx:i}};return i[7]!==void 0&&(ke.bounds=i[7]),i[4]!==void 0&&(ke.map=i[4]),L=new Je({props:ke}),ce.push(()=>fe(L,"bounds",Ae)),ce.push(()=>fe(L,"map",Ve)),{c(){t=_("div"),n=_("div"),e=_("div"),N(o.$$.fragment),c=S(),h=_("div"),m=_("div"),m.innerHTML=u,s=S(),b=_("div"),b.innerHTML=F,oe=S(),$=_("div"),X=J(`Score:  \r
            `),P=_("span"),P.textContent=Z,D=S(),ie=_("br"),ee=J(`\r
            Level:  \r
            `),j=_("span"),te=J(i[8]),re=S(),H=_("div"),k=_("div"),x=_("button"),x.textContent=he,le=S(),B=_("button"),B.textContent=me,g=S(),G=_("button"),G.textContent=ge,Q=S(),I=_("button"),I.textContent=pe,se=S(),N(L.$$.fragment),this.h()},l(f){t=y(f,"DIV",{class:!0});var v=T(t);n=y(v,"DIV",{class:!0});var Y=T(n);e=y(Y,"DIV",{class:!0});var U=T(e);O(o.$$.fragment,U),U.forEach(p),Y.forEach(p),c=E(v),h=y(v,"DIV",{class:!0});var ne=T(h);m=y(ne,"DIV",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-1gpzh7c"&&(m.innerHTML=u),s=E(ne),b=y(ne,"DIV",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-172gan1"&&(b.innerHTML=F),oe=E(ne),$=y(ne,"DIV",{class:!0});var W=T($);X=K(W,`Score:  \r
            `),P=y(W,"SPAN",{id:!0,"data-svelte-h":!0}),z(P)!=="svelte-7g7nib"&&(P.textContent=Z),D=E(W),ie=y(W,"BR",{}),ee=K(W,`\r
            Level:  \r
            `),j=y(W,"SPAN",{id:!0,class:!0});var Ce=T(j);te=K(Ce,i[8]),Ce.forEach(p),W.forEach(p),ne.forEach(p),re=E(v),H=y(v,"DIV",{class:!0});var Se=T(H);k=y(Se,"DIV",{class:!0});var R=T(k);x=y(R,"BUTTON",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-11ne4ul"&&(x.textContent=he),le=E(R),B=y(R,"BUTTON",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-1k1teut"&&(B.textContent=me),g=E(R),G=y(R,"BUTTON",{class:!0,"data-svelte-h":!0}),z(G)!=="svelte-1rf97u5"&&(G.textContent=ge),Q=E(R),I=y(R,"BUTTON",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-rn1029"&&(I.textContent=pe),R.forEach(p),Se.forEach(p),se=E(v),O(L.$$.fragment,v),v.forEach(p),this.h()},h(){w(e,"class","col-span-4 md:col-span-1 text-center"),w(n,"class","grid grid-cols-4"),w(m,"class","flex items-center"),w(b,"class","ml-auto"),w(P,"id","scorebox"),w(j,"id","level"),w(j,"class","mt-1"),w($,"class","ml-auto"),w(h,"class","px-8 flex new-row items-center w-30 max-w-30 font-bold text-sm"),w(x,"class","btn-sm btn-ghost text-sm"),w(B,"class","btn-sm btn-ghost text-sm mx-2"),w(G,"class","btn-sm btn-ghost text-sm mx-2"),w(I,"class","btn-sm btn-ghost text-sm mx-2"),w(k,"class","flex justify-center align-middle mt-2"),w(H,"class","flex flex-col items-center"),w(t,"class","flex flex-col h-[calc(100vh-80px)] w-full")},m(f,v){q(f,t,v),d(t,n),d(n,e),A(o,e,null),d(t,c),d(t,h),d(h,m),d(h,s),d(h,b),d(h,oe),d(h,$),d($,X),d($,P),d($,D),d($,ie),d($,ee),d($,j),d(j,te),d(t,re),d(t,H),d(H,k),d(k,x),d(k,le),d(k,B),d(k,g),d(k,G),d(k,Q),d(k,I),d(t,se),A(L,t,null),ue=!0,$e||(Me=[_e(x,"click",i[23]),_e(B,"click",i[24]),_e(G,"click",i[25]),_e(I,"click",i[26])],$e=!0)},p(f,v){const Y={};!a&&v[0]&4&&(a=!0,Y.position=f[2],de(()=>a=!1)),!l&&v[0]&1&&(l=!0,Y.success=f[0],de(()=>l=!1)),!r&&v[0]&2&&(r=!0,Y.error=f[1],de(()=>r=!1)),o.$set(Y),(!ue||v[0]&256)&&ye(te,f[8]);const U={};v[0]&576|v[1]&16384&&(U.$$scope={dirty:v,ctx:f}),!ve&&v[0]&128&&(ve=!0,U.bounds=f[7],de(()=>ve=!1)),!we&&v[0]&16&&(we=!0,U.map=f[4],de(()=>we=!1)),L.$set(U)},i(f){ue||(M(o.$$.fragment,f),M(L.$$.fragment,f),ue=!0)},o(f){C(o.$$.fragment,f),C(L.$$.fragment,f),ue=!1},d(f){f&&p(t),V(o),V(L),$e=!1,je(Me)}}}function $t(i,t,n){let e=[{lngLat:{lng:0,lat:0},label:"⌛ Loading...",name:"Please wait for the game to load"}],o=Ee(e);const a={enableHighAccuracy:!0,timeout:1/0,maximumAge:0};let l=!1,r="",c={},h=[144.9639,-37.8083],m,u={},s=0,b=!0,F,oe="Novice",$=[],X=[1,2,3,4,5,6,7,8,9,10];console.log("remainingQuests:",X);let P=0,Z=0,D={},ie={},ee;Fe(async()=>{const g=await fetch("melbourne.geojson");n(9,ee=await g.json())});function j(g){c=g,n(2,c)}function te(g){l=g,n(0,l)}function re(g){r=g,n(1,r)}const H=g=>{n(5,D=g.detail)},k=()=>{n(7,o=Ee(e))},x=()=>st(s,$,F),he=()=>ut(s,$),le=()=>ct(s,$);function B(g){o=g,n(7,o)}function me(g){F=g,n(4,F)}return i.$$.update=()=>{if(i.$$.dirty[0]&1,i.$$.dirty[0]&2&&r&&(console.error("Error:",r.message),document.getElementsByClassName("maplibregl-control-container")[0].style="display:none",alert(r.message),n(6,e=[{lngLat:{lng:0,lat:0},name:"❌ An error occurred while fetching your location",label:"Please enable location in your device, allow the browser to access location, and reload the page"}])),i.$$.dirty[0]&516156&&D.coords){n(13,h=[c.coords.longitude,c.coords.latitude]),b&&(F.flyTo({center:h,zoom:14}),n(16,b=!1)),console.log(D.coords.accuracy);let g=Math.floor(Math.min(100,Math.max(36-D.coords.accuracy,1)*3)),G="▒",ge="█",Q="▒▒▒";for(let L=0;L<g/30;L++)Q=Q.replace(G,ge);let I=document.getElementById("debug-msg"),pe=document.getElementById("scorebox"),se=document.getElementById("distance");I.innerText=" "+Q+" "+g+"%",g<50?I.innerText="NO GNSS":g<65?I.style.color="#c41f1f":g<80?I.style.color="#c4851f":I.style.color="#59c41f",pe.innerText=Z,n(6,e=[{lngLat:{lng:h[0],lat:h[1]},label:"🧍",name:"Your current position"}]),n(15,u={lngLat:{lng:D.coords.longitude,lat:D.coords.latitude},label:"🧍",name:"Your current position"}),s||(n(3,s=rt(u,X)),s=="Game Over"&&alert("Your final score is: "+Z),s.longitude,s.latitude,s.name,n(14,m=lt())),se.innerText=g}},[l,r,c,s,F,D,e,o,oe,ee,a,$,ie,h,m,u,b,P,Z,j,te,re,H,k,x,he,le,B,me]}class Ct extends Re{constructor(t){super(),ze(this,t,$t,wt,Pe,{},null,[-1,-1])}}export{Ct as component,Mt as universal};
